<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Enclosure data: circle pack</title>
</head>
<body>
<h1>Enclosure data: circle pack</h1>
<p>Open JavaScript console for details. See <code>x</code>, <code>y</code> and <code>r</code> properties that were added for each node.</p>
<script type="module">
    import * as d3 from "https://cdn.skypack.dev/d3@7";
    import {cht, root} from "./js/treedata-json.js";

    // sorting nodes by height
    root.sort((a,b) => d3.descending(a.height, b.height));

    // sum or count required
    root.sum(d => d.content ? d.content[0] : 0);

    const pack = d3.pack().size([cht.w, cht.h]); // the size will influence the x, y and r properties
    pack(root);

    console.log("Hierarchical circle pack data", root);
    console.log("Array of nodes", root.descendants());

</script>
</body>
</html>